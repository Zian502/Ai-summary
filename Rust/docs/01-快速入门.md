# å¿«é€Ÿå…¥é—¨

## ç¯å¢ƒæ­å»º

### å®‰è£… Rust

Rust å®˜æ–¹æ¨èä½¿ç”¨ `rustup` å·¥å…·æ¥å®‰è£…å’Œç®¡ç† Rust å·¥å…·é“¾ã€‚

#### macOS/Linux

```bash
# å®‰è£… rustupï¼ˆå®˜æ–¹æ¨èæ–¹å¼ï¼‰
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# å®‰è£…å®Œæˆåï¼Œé‡å¯ç»ˆç«¯æˆ–è¿è¡Œï¼š
source $HOME/.cargo/env

# éªŒè¯å®‰è£…
rustc --version
# è¾“å‡ºï¼šrustc 1.76.0 (07dca489a 2024-02-04)

cargo --version
# è¾“å‡ºï¼šcargo 1.76.0 (084c87d64 2024-02-01)
```

#### Windows

1. è®¿é—® https://rustup.rs/
2. ä¸‹è½½å¹¶è¿è¡Œ `rustup-init.exe`
3. æŒ‰ç…§æç¤ºå®Œæˆå®‰è£…
4. é‡å¯ç»ˆç«¯æˆ–è¿è¡Œï¼š`refreshenv`

æˆ–è€…ä½¿ç”¨ PowerShellï¼š

```powershell
# åœ¨ PowerShell ä¸­è¿è¡Œ
Invoke-WebRequest -Uri https://win.rustup.rs/x86_64 -OutFile rustup-init.exe
.\rustup-init.exe
```

#### ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…ï¼ˆå¯é€‰ï¼‰

```bash
# macOS (Homebrew)
brew install rust

# Ubuntu/Debian
sudo apt install rustc cargo

# Arch Linux
sudo pacman -S rust
```

### é…ç½® Rust å·¥å…·é“¾

```bash
# æŸ¥çœ‹å·²å®‰è£…çš„å·¥å…·é“¾
rustup show

# æ›´æ–° Rust åˆ°æœ€æ–°ç‰ˆæœ¬
rustup update

# å®‰è£…ç‰¹å®šç‰ˆæœ¬
rustup install 1.75.0

# è®¾ç½®é»˜è®¤å·¥å…·é“¾
rustup default stable
rustup default nightly  # ä½¿ç”¨ nightly ç‰ˆæœ¬ï¼ˆä¸æ¨èåˆå­¦è€…ï¼‰

# æ·»åŠ ç»„ä»¶
rustup component add rustfmt      # ä»£ç æ ¼å¼åŒ–å·¥å…·
rustup component add clippy       # é™æ€åˆ†æå·¥å…·
rustup component add rust-src     # Rust æºç ï¼ˆç”¨äº IDEï¼‰
```

### é…ç½®å¼€å‘ç¯å¢ƒ

#### VS Codeï¼ˆæ¨èï¼‰

1. å®‰è£… VS Code
2. å®‰è£…æ‰©å±•ï¼š
   - **rust-analyzer**ï¼ˆå®˜æ–¹æ¨èï¼Œæ›¿ä»£ rust æ‰©å±•ï¼‰
   - **CodeLLDB**ï¼ˆè°ƒè¯•å™¨ï¼‰

#### RustRoverï¼ˆJetBrains IDEï¼‰

- å®˜æ–¹ IDEï¼ŒåŠŸèƒ½å®Œå–„ï¼Œé€‚åˆä¸“ä¸šå¼€å‘

#### å…¶ä»–ç¼–è¾‘å™¨

- **Vim/Neovim**ï¼šä½¿ç”¨ rust-analyzer LSP
- **Emacs**ï¼šä½¿ç”¨ rust-mode
- **Sublime Text**ï¼šä½¿ç”¨ LSP æ’ä»¶

### éªŒè¯å®‰è£…

```bash
# æ£€æŸ¥ Rust ç‰ˆæœ¬
rustc --version

# æ£€æŸ¥ Cargo ç‰ˆæœ¬
cargo --version

# æ£€æŸ¥å·¥å…·é“¾ä¿¡æ¯
rustup show

# æ£€æŸ¥ç¯å¢ƒå˜é‡
echo $PATH  # macOS/Linux
# åº”è¯¥åŒ…å« ~/.cargo/bin
```

## ç¬¬ä¸€ä¸ª Rust ç¨‹åº

### ä½¿ç”¨ Cargo åˆ›å»ºé¡¹ç›®ï¼ˆæ¨èï¼‰

```bash
# åˆ›å»ºæ–°é¡¹ç›®
cargo new hello-rust
cd hello-rust

# é¡¹ç›®ç»“æ„
# hello-rust/
# â”œâ”€â”€ Cargo.toml      # é¡¹ç›®é…ç½®æ–‡ä»¶
# â””â”€â”€ src/
#     â””â”€â”€ main.rs     # ä¸»ç¨‹åºæ–‡ä»¶
```

æŸ¥çœ‹ `src/main.rs`ï¼š

```rust
fn main() {
    println!("Hello, world!");
}
```

è¿è¡Œé¡¹ç›®ï¼š

```bash
# ç¼–è¯‘å¹¶è¿è¡Œ
cargo run

# åªç¼–è¯‘
cargo build

# ç¼–è¯‘ä¼˜åŒ–ç‰ˆæœ¬
cargo build --release

# æ£€æŸ¥ä»£ç ï¼ˆä¸ç¼–è¯‘ï¼‰
cargo check
```

### æ‰‹åŠ¨åˆ›å»ºç¨‹åº

```bash
# åˆ›å»ºæ–‡ä»¶
cat > main.rs << 'EOF'
fn main() {
    println!("Hello, Rust!");
}
EOF

# ç¼–è¯‘
rustc main.rs

# è¿è¡Œ
./main  # macOS/Linux
# main.exe  # Windows
```

### ç¨‹åºè§£æ

```rust
// main.rs
// fn å…³é”®å­—å®šä¹‰å‡½æ•°
// main æ˜¯ç¨‹åºçš„å…¥å£ç‚¹
fn main() {
    // println! æ˜¯å®ï¼ˆæ³¨æ„æ„Ÿå¹å·ï¼‰
    // ç”¨äºæ‰“å°åˆ°æ ‡å‡†è¾“å‡º
    println!("Hello, Rust!");
    
    // æ ¼å¼åŒ–è¾“å‡º
    let name = "Rust";
    let version = 1.76;
    println!("Hello, {}! Version: {}", name, version);
    
    // ä½¿ç”¨æ ¼å¼åŒ–å®
    println!("Hello, {name}! Version: {version}");
}
```

### ä¸å…¶ä»–è¯­è¨€å¯¹æ¯”

| è¯­è¨€ | Hello World | ç¼–è¯‘/è¿è¡Œ |
|------|------------|----------|
| **Rust** | `println!("Hello, world!");` | `cargo run` |
| **C++** | `std::cout << "Hello, world!";` | `g++ main.cpp && ./a.out` |
| **Go** | `fmt.Println("Hello, world!")` | `go run main.go` |
| **Python** | `print("Hello, world!")` | `python main.py` |
| **Java** | `System.out.println("Hello, world!");` | `javac Main.java && java Main` |

**Rust ç‰¹ç‚¹**ï¼š
- ä½¿ç”¨ `!` è¡¨ç¤ºå®ï¼ˆä¸æ˜¯å‡½æ•°ï¼‰
- `main` å‡½æ•°æ˜¯ç¨‹åºå…¥å£
- åˆ†å· `;` è¡¨ç¤ºè¯­å¥ç»“æŸ
- ä½¿ç”¨ `cargo` ç®¡ç†é¡¹ç›®ï¼ˆç±»ä¼¼ npmã€pipï¼‰

## Cargo åŸºç¡€

### Cargo.toml æ–‡ä»¶

```toml
[package]
name = "hello-rust"        # é¡¹ç›®åç§°
version = "0.1.0"          # ç‰ˆæœ¬å·
edition = "2021"           # Rust ç‰ˆæœ¬ï¼ˆ2015/2018/2021/2024ï¼‰

[dependencies]
# ä¾èµ–é¡¹åœ¨è¿™é‡Œæ·»åŠ 
# serde = "1.0"
# tokio = { version = "1.0", features = ["full"] }
```

### å¸¸ç”¨ Cargo å‘½ä»¤

```bash
# åˆ›å»ºæ–°é¡¹ç›®
cargo new <project-name>        # äºŒè¿›åˆ¶é¡¹ç›®
cargo new --lib <lib-name>      # åº“é¡¹ç›®

# æ„å»ºé¡¹ç›®
cargo build                     # å¼€å‘æ¨¡å¼ç¼–è¯‘
cargo build --release           # å‘å¸ƒæ¨¡å¼ç¼–è¯‘ï¼ˆä¼˜åŒ–ï¼‰

# è¿è¡Œé¡¹ç›®
cargo run                       # ç¼–è¯‘å¹¶è¿è¡Œ
cargo run --release             # å‘å¸ƒæ¨¡å¼è¿è¡Œ

# ä»£ç æ£€æŸ¥
cargo check                     # å¿«é€Ÿæ£€æŸ¥ï¼ˆä¸ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼‰
cargo clippy                    # é™æ€åˆ†ææ£€æŸ¥

# ä»£ç æ ¼å¼åŒ–
cargo fmt                       # æ ¼å¼åŒ–ä»£ç 

# æµ‹è¯•
cargo test                      # è¿è¡Œæµ‹è¯•

# æ–‡æ¡£
cargo doc                       # ç”Ÿæˆæ–‡æ¡£
cargo doc --open                # ç”Ÿæˆå¹¶æ‰“å¼€æ–‡æ¡£

# ä¾èµ–ç®¡ç†
cargo add <crate>               # æ·»åŠ ä¾èµ–ï¼ˆéœ€è¦ cargo-editï¼‰
cargo update                    # æ›´æ–°ä¾èµ–
cargo tree                      # æŸ¥çœ‹ä¾èµ–æ ‘

# æ¸…ç†
cargo clean                     # åˆ é™¤ target ç›®å½•
```

### é¡¹ç›®ç»“æ„

```
my-project/
â”œâ”€â”€ Cargo.toml          # é¡¹ç›®é…ç½®å’Œä¾èµ–
â”œâ”€â”€ Cargo.lock          # ä¾èµ–ç‰ˆæœ¬é”å®šï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ src/                # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ main.rs         # äºŒè¿›åˆ¶ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ lib.rs          # åº“å…¥å£ï¼ˆåº“é¡¹ç›®ï¼‰
â”‚   â””â”€â”€ bin/            # å¤šä¸ªäºŒè¿›åˆ¶æ–‡ä»¶
â”‚       â””â”€â”€ tool.rs
â”œâ”€â”€ tests/              # é›†æˆæµ‹è¯•
â”œâ”€â”€ examples/           # ç¤ºä¾‹ä»£ç 
â”œâ”€â”€ benches/            # åŸºå‡†æµ‹è¯•
â””â”€â”€ target/             # ç¼–è¯‘è¾“å‡ºï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
    â”œâ”€â”€ debug/          # å¼€å‘æ¨¡å¼ç¼–è¯‘ç»“æœ
    â””â”€â”€ release/        # å‘å¸ƒæ¨¡å¼ç¼–è¯‘ç»“æœ
```

## äº¤äº’å¼å­¦ä¹ 

### Rust Playground

è®¿é—® https://play.rust-lang.org/ å¯ä»¥åœ¨çº¿ç¼–å†™å’Œè¿è¡Œ Rust ä»£ç ï¼Œæ— éœ€å®‰è£…ã€‚

### REPL å·¥å…·

```bash
# å®‰è£… evcxrï¼ˆRust REPLï¼‰
cargo install evcxr_repl

# è¿è¡Œ REPL
evcxr
```

### ç¤ºä¾‹ï¼šè®¡ç®—å™¨

```rust
// src/main.rs
use std::io;

fn main() {
    println!("ç®€å•è®¡ç®—å™¨");
    
    // è¯»å–ç”¨æˆ·è¾“å…¥
    let mut input = String::new();
    io::stdin()
        .read_line(&mut input)
        .expect("è¯»å–è¾“å…¥å¤±è´¥");
    
    // è§£ææ•°å­—
    let num: f64 = input.trim().parse()
        .expect("è¯·è¾“å…¥æœ‰æ•ˆæ•°å­—");
    
    // è®¡ç®—
    let result = num * 2.0;
    println!("ç»“æœ: {}", result);
}
```

è¿è¡Œï¼š

```bash
cargo run
# è¾“å…¥ï¼š5
# è¾“å‡ºï¼šç»“æœ: 10
```

## å¸¸è§é—®é¢˜

### ç¼–è¯‘é”™è¯¯ï¼šæ‰¾ä¸åˆ° rustc

```bash
# è§£å†³æ–¹æ¡ˆï¼šç¡®ä¿ Cargo åœ¨ PATH ä¸­
export PATH="$HOME/.cargo/bin:$PATH"  # macOS/Linux
# æˆ–é‡å¯ç»ˆç«¯
```

### ç¼–è¯‘é€Ÿåº¦æ…¢

```bash
# ä½¿ç”¨å¹¶è¡Œç¼–è¯‘
export CARGO_BUILD_JOBS=8

# ä½¿ç”¨ sccacheï¼ˆç¼–è¯‘ç¼“å­˜ï¼‰
cargo install sccache
export RUSTC_WRAPPER=sccache
```

### æ›´æ–° Rust

```bash
# æ›´æ–°åˆ°æœ€æ–°ç¨³å®šç‰ˆ
rustup update stable

# æ›´æ–° rustup æœ¬èº«
rustup self update
```

## ä¸‹ä¸€æ­¥

ç°åœ¨ä½ å·²ç»å®Œæˆäº† Rust ç¯å¢ƒçš„æ­å»ºï¼Œå¯ä»¥å¼€å§‹å­¦ä¹ ï¼š

1. **[åŸºç¡€è¯­æ³•](./02-åŸºç¡€è¯­æ³•.md)** - å­¦ä¹ å˜é‡ã€å¸¸é‡ã€åŸºæœ¬è¯­æ³•
2. **[æ•°æ®ç±»å‹](./03-æ•°æ®ç±»å‹.md)** - äº†è§£ Rust çš„æ•°æ®ç±»å‹ç³»ç»Ÿ
3. **[æ§åˆ¶ç»“æ„](./04-æ§åˆ¶ç»“æ„.md)** - å­¦ä¹ æ¡ä»¶è¯­å¥å’Œå¾ªç¯

ç»§ç»­ä½ çš„ Rust å­¦ä¹ ä¹‹æ—…ï¼ğŸš€

