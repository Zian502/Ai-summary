# Flutter å¿«é€Ÿå…¥é—¨

## ä»€ä¹ˆæ˜¯ Flutterï¼Ÿ

Flutter æ˜¯ Google å¼€å‘çš„å¼€æº UI å·¥å…·åŒ…ï¼Œç”¨äºæ„å»ºè·¨å¹³å°åº”ç”¨ã€‚é€šè¿‡ä¸€å¥—ä»£ç åº“ï¼Œå¯ä»¥æ„å»ºé€‚ç”¨äºï¼š
- ğŸ“± **ç§»åŠ¨ç«¯**ï¼šiOS å’Œ Android
- ğŸŒ **Web**ï¼šç°ä»£æµè§ˆå™¨
- ğŸ–¥ï¸ **æ¡Œé¢**ï¼šWindowsã€macOSã€Linux
- ğŸ“º **åµŒå…¥å¼**ï¼šRaspberry Pi ç­‰è®¾å¤‡

### æ ¸å¿ƒç‰¹ç‚¹

- **å¿«é€Ÿå¼€å‘**ï¼šçƒ­é‡è½½ï¼ˆHot Reloadï¼‰è®©å¼€å‘æ•ˆç‡å¤§å¹…æå‡
- **é«˜æ€§èƒ½**ï¼šç›´æ¥ç¼–è¯‘ä¸ºåŸç”Ÿä»£ç ï¼Œæ€§èƒ½æ¥è¿‘åŸç”Ÿåº”ç”¨
- **ç¾è§‚çš„ UI**ï¼šä¸°å¯Œçš„ Material Design å’Œ Cupertino ç»„ä»¶
- **å•ä¸€ä»£ç åº“**ï¼šä¸€å¥—ä»£ç ï¼Œå¤šå¹³å°è¿è¡Œ

### ä¸ JavaScript/React å¯¹æ¯”

| Flutter | JavaScript/React | è¯´æ˜ |
|---------|------------------|------|
| Widget | Component | éƒ½æ˜¯ UI çš„åŸºæœ¬æ„å»ºå•å…ƒ |
| Hot Reload | Fast Refresh | å¿«é€Ÿé¢„è§ˆä»£ç æ›´æ”¹ |
| Dart | JavaScript/TypeScript | ç¼–ç¨‹è¯­è¨€ |
| MaterialApp | React Router | åº”ç”¨å…¥å£å’Œè·¯ç”±ç®¡ç† |
| setState | useState/useReducer | çŠ¶æ€æ›´æ–°æœºåˆ¶ |

## ç¯å¢ƒæ­å»º

### 1. å®‰è£… Flutter SDK

**macOS/Linux:**
```bash
# ä¸‹è½½ Flutter SDK
git clone https://github.com/flutter/flutter.git -b stable
cd flutter

# æ·»åŠ åˆ° PATHï¼ˆæ·»åŠ åˆ° ~/.zshrc æˆ– ~/.bashrcï¼‰
export PATH="$PATH:`pwd`/bin"

# éªŒè¯å®‰è£…
flutter doctor
```

**Windows:**
1. ä¸‹è½½ Flutter SDK zip æ–‡ä»¶
2. è§£å‹åˆ°åˆé€‚ä½ç½®ï¼ˆå¦‚ `C:\src\flutter`ï¼‰
3. å°† `flutter\bin` æ·»åŠ åˆ°ç³»ç»Ÿ PATH
4. è¿è¡Œ `flutter doctor`

### 2. å®‰è£…å¼€å‘å·¥å…·

**VS Codeï¼ˆæ¨èï¼‰:**
1. å®‰è£… VS Code
2. å®‰è£… Flutter å’Œ Dart æ‰©å±•

**Android Studio:**
1. å®‰è£… Android Studio
2. å®‰è£… Flutter å’Œ Dart æ’ä»¶
3. é…ç½® Android SDK

### 3. é…ç½®å¹³å°å·¥å…·

**Android:**
```bash
# å®‰è£… Android SDKï¼ˆé€šè¿‡ Android Studioï¼‰
flutter doctor --android-licenses  # æ¥å—è®¸å¯è¯
```

**iOSï¼ˆä»… macOSï¼‰:**
```bash
# å®‰è£… Xcodeï¼ˆé€šè¿‡ App Storeï¼‰
sudo xcode-select --switch /Applications/Xcode.app/Contents/Developer
sudo xcodebuild -runFirstLaunch
```

### 4. éªŒè¯å®‰è£…

```bash
flutter doctor
```

åº”è¯¥çœ‹åˆ°æ‰€æœ‰æ£€æŸ¥é¡¹éƒ½é€šè¿‡ï¼ˆæˆ–è‡³å°‘ Android/iOS å·¥å…·é“¾å¯ç”¨ï¼‰ã€‚

## åˆ›å»ºç¬¬ä¸€ä¸ª Flutter åº”ç”¨

### ä½¿ç”¨å‘½ä»¤è¡Œåˆ›å»º

```bash
# åˆ›å»ºæ–°é¡¹ç›®
flutter create my_first_app
cd my_first_app

# è¿è¡Œåº”ç”¨
flutter run
```

### é¡¹ç›®ç»“æ„

```
my_first_app/
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ main.dart          # åº”ç”¨å…¥å£æ–‡ä»¶
â”œâ”€â”€ test/                   # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ android/                # Android å¹³å°ä»£ç 
â”œâ”€â”€ ios/                    # iOS å¹³å°ä»£ç 
â”œâ”€â”€ web/                    # Web å¹³å°ä»£ç 
â”œâ”€â”€ pubspec.yaml           # ä¾èµ–é…ç½®æ–‡ä»¶ï¼ˆç±»ä¼¼ package.jsonï¼‰
â””â”€â”€ README.md
```

### ç¬¬ä¸€ä¸ªåº”ç”¨ï¼šHello Flutter

**lib/main.dart:**

```dart
// å¯¼å…¥ Flutter æ ¸å¿ƒåº“
import 'package:flutter/material.dart';

// main å‡½æ•°æ˜¯åº”ç”¨çš„å…¥å£ç‚¹
// ç±»ä¼¼äº JavaScript: function main() { ... }
void main() {
  // runApp å¯åŠ¨ Flutter åº”ç”¨
  // ç±»ä¼¼äº React: ReactDOM.render(<App />, document.getElementById('root'))
  runApp(const MyApp());
}

// StatelessWidget æ˜¯æ— çŠ¶æ€çš„ç»„ä»¶
// ç±»ä¼¼äº React çš„å‡½æ•°ç»„ä»¶: function MyApp() { return <div>...</div> }
class MyApp extends StatelessWidget {
  // const æ„é€ å‡½æ•°ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶å¸¸é‡
  const MyApp({super.key});

  // build æ–¹æ³•è¿”å› Widget æ ‘
  // ç±»ä¼¼äº React çš„ render æ–¹æ³•
  @override
  Widget build(BuildContext context) {
    // MaterialApp æ˜¯ Material Design é£æ ¼çš„åº”ç”¨å…¥å£
    // ç±»ä¼¼äº React Router çš„ BrowserRouter
    return MaterialApp(
      // åº”ç”¨æ ‡é¢˜ï¼ˆç”¨äºç³»ç»Ÿ UIï¼Œå¦‚ä»»åŠ¡åˆ‡æ¢å™¨ï¼‰
      title: 'æˆ‘çš„ç¬¬ä¸€ä¸ª Flutter åº”ç”¨',
      
      // ä¸»é¢˜é…ç½®
      // ç±»ä¼¼äº CSS çš„ä¸»é¢˜å˜é‡
      theme: ThemeData(
        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),
        useMaterial3: true,
      ),
      
      // é¦–é¡µ Widget
      // ç±»ä¼¼äº React Router çš„é»˜è®¤è·¯ç”±
      home: const MyHomePage(title: 'Flutter å…¥é—¨'),
    );
  }
}

// StatefulWidget æ˜¯æœ‰çŠ¶æ€çš„ç»„ä»¶
// ç±»ä¼¼äº React çš„ç±»ç»„ä»¶æˆ–ä½¿ç”¨ useState çš„å‡½æ•°ç»„ä»¶
class MyHomePage extends StatefulWidget {
  const MyHomePage({super.key, required this.title});

  final String title;

  @override
  State<MyHomePage> createState() => _MyHomePageState();
}

// State ç±»ç®¡ç†ç»„ä»¶çš„çŠ¶æ€
// ç±»ä¼¼äº React çš„ state æˆ– useState hook
class _MyHomePageState extends State<MyHomePage> {
  // å®šä¹‰çŠ¶æ€å˜é‡
  // ç±»ä¼¼äº React: const [counter, setCounter] = useState(0)
  int _counter = 0;

  // å¢åŠ è®¡æ•°å™¨çš„æ–¹æ³•
  // ç±»ä¼¼äº React: const increment = () => setCounter(counter + 1)
  void _incrementCounter() {
    setState(() {
      // setState é€šçŸ¥ Flutter é‡æ–°æ„å»º Widget
      // ç±»ä¼¼äº React çš„ setState æˆ– useState çš„ setter
      _counter++;
    });
  }

  @override
  Widget build(BuildContext context) {
    // Scaffold æä¾›åŸºæœ¬çš„ Material Design å¸ƒå±€ç»“æ„
    // ç±»ä¼¼äº HTML çš„ body æˆ– React çš„å¸ƒå±€å®¹å™¨
    return Scaffold(
      // AppBar æ˜¯é¡¶éƒ¨çš„åº”ç”¨æ 
      // ç±»ä¼¼äº HTML çš„ header æˆ– React çš„å¯¼èˆªæ ç»„ä»¶
      appBar: AppBar(
        backgroundColor: Theme.of(context).colorScheme.inversePrimary,
        title: Text(widget.title),
      ),
      
      // body æ˜¯é¡µé¢çš„ä¸»è¦å†…å®¹åŒºåŸŸ
      // ç±»ä¼¼äº HTML çš„ main æˆ– React çš„å†…å®¹åŒºåŸŸ
      body: Center(
        // Center å°†å­ Widget å±…ä¸­æ˜¾ç¤º
        // ç±»ä¼¼äº CSS: display: flex; justify-content: center; align-items: center;
        child: Column(
          // Column å‚ç›´æ’åˆ—å­ Widget
          // ç±»ä¼¼äº CSS: display: flex; flex-direction: column;
          mainAxisAlignment: MainAxisAlignment.center,
          children: <Widget>[
            const Text(
              'ä½ å·²ç»ç‚¹å‡»äº†è¿™ä¹ˆå¤šæ¬¡:',
              // ç±»ä¼¼äº CSS: font-size: 16px;
              style: TextStyle(fontSize: 16),
            ),
            Text(
              '$_counter',
              // ç±»ä¼¼äº CSS: font-size: 48px; font-weight: bold;
              style: Theme.of(context).textTheme.headlineMedium,
            ),
          ],
        ),
      ),
      
      // floatingActionButton æ˜¯æ‚¬æµ®æ“ä½œæŒ‰é’®
      // ç±»ä¼¼äº HTML çš„ button æˆ– React çš„æŒ‰é’®ç»„ä»¶
      floatingActionButton: FloatingActionButton(
        onPressed: _incrementCounter,
        tooltip: 'å¢åŠ ',
        child: const Icon(Icons.add),
      ),
    );
  }
}
```

### ä»£ç è§£æ

1. **import è¯­å¥**ï¼šå¯¼å…¥éœ€è¦çš„åŒ…ï¼Œç±»ä¼¼äº JavaScript çš„ `import`
2. **main()**ï¼šåº”ç”¨å…¥å£å‡½æ•°ï¼Œç±»ä¼¼äº JavaScript çš„å…¥å£å‡½æ•°
3. **runApp()**ï¼šå¯åŠ¨åº”ç”¨ï¼Œç±»ä¼¼äº React çš„ `ReactDOM.render()`
4. **StatelessWidget**ï¼šæ— çŠ¶æ€ç»„ä»¶ï¼Œç±»ä¼¼äº React å‡½æ•°ç»„ä»¶
5. **StatefulWidget**ï¼šæœ‰çŠ¶æ€ç»„ä»¶ï¼Œç±»ä¼¼äº React ç±»ç»„ä»¶æˆ–ä½¿ç”¨ hooks çš„å‡½æ•°ç»„ä»¶
6. **setState()**ï¼šæ›´æ–°çŠ¶æ€å¹¶è§¦å‘é‡å»ºï¼Œç±»ä¼¼äº React çš„ `setState()` æˆ– `useState` çš„ setter
7. **build()**ï¼šæ„å»º Widget æ ‘ï¼Œç±»ä¼¼äº React çš„ `render()` æ–¹æ³•

## çƒ­é‡è½½ï¼ˆHot Reloadï¼‰

Flutter çš„çƒ­é‡è½½åŠŸèƒ½è®©ä½ å¯ä»¥å¿«é€Ÿçœ‹åˆ°ä»£ç æ›´æ”¹çš„æ•ˆæœï¼Œæ— éœ€é‡å¯åº”ç”¨ã€‚

### ä½¿ç”¨æ–¹æ³•

1. **VS Code**: ä¿å­˜æ–‡ä»¶ï¼ˆCmd+S / Ctrl+Sï¼‰è‡ªåŠ¨çƒ­é‡è½½
2. **å‘½ä»¤è¡Œ**: åœ¨è¿è¡Œåº”ç”¨çš„ç»ˆç«¯æŒ‰ `r` é”®
3. **Android Studio**: ç‚¹å‡»çƒ­é‡è½½æŒ‰é’®ï¼ˆâš¡ï¸ï¼‰

### çƒ­é‡è½½ vs çƒ­é‡å¯

- **çƒ­é‡è½½ï¼ˆHot Reloadï¼‰**ï¼šå¿«é€Ÿæ›´æ–° UIï¼Œä¿æŒåº”ç”¨çŠ¶æ€
  - ç±»ä¼¼äº React çš„ Fast Refresh
  - é€‚ç”¨äº UI æ›´æ”¹
- **çƒ­é‡å¯ï¼ˆHot Restartï¼‰**ï¼šé‡å¯åº”ç”¨ï¼Œé‡ç½®çŠ¶æ€
  - åœ¨ç»ˆç«¯æŒ‰ `R`ï¼ˆå¤§å†™ï¼‰
  - é€‚ç”¨äºé€»è¾‘æ›´æ”¹

### ç¤ºä¾‹

```dart
// ä¿®æ”¹è¿™æ®µä»£ç åï¼Œä¿å­˜å³å¯çœ‹åˆ°æ•ˆæœï¼ˆçƒ­é‡è½½ï¼‰
Text(
  '$_counter',
  style: TextStyle(
    fontSize: 48,
    color: Colors.blue,  // æ·»åŠ è¿™è¡Œï¼Œä¿å­˜åç«‹å³çœ‹åˆ°é¢œè‰²å˜åŒ–
  ),
),
```

## å¸¸ç”¨å‘½ä»¤

```bash
# åˆ›å»ºé¡¹ç›®
flutter create project_name

# è¿è¡Œåº”ç”¨
flutter run

# æ£€æŸ¥ç¯å¢ƒ
flutter doctor

# è·å–ä¾èµ–ï¼ˆç±»ä¼¼äº npm installï¼‰
flutter pub get

# æ¸…ç†æ„å»ºæ–‡ä»¶
flutter clean

# æ„å»º APKï¼ˆAndroidï¼‰
flutter build apk

# æ„å»º iOSï¼ˆéœ€è¦ macOSï¼‰
flutter build ios

# æŸ¥çœ‹å¯ç”¨è®¾å¤‡
flutter devices
```

## ä¸‹ä¸€æ­¥

- å­¦ä¹  [Dart è¯­è¨€åŸºç¡€](./02-Dartè¯­è¨€åŸºç¡€.md)
- äº†è§£ [Widget åŸºç¡€](./03-WidgetåŸºç¡€.md)
- æŸ¥çœ‹ [Flutter å®˜æ–¹æ–‡æ¡£](https://flutter.cn/docs)

## å¸¸è§é—®é¢˜

**Q: Flutter å’Œ React Native æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ**
A: Flutter ä½¿ç”¨ Dart è¯­è¨€ï¼Œç¼–è¯‘ä¸ºåŸç”Ÿä»£ç ï¼Œæ€§èƒ½æ›´å¥½ã€‚React Native ä½¿ç”¨ JavaScriptï¼Œé€šè¿‡æ¡¥æ¥è°ƒç”¨åŸç”Ÿç»„ä»¶ã€‚

**Q: éœ€è¦å­¦ä¹  Dart å—ï¼Ÿ**
A: æ˜¯çš„ï¼Œä½† Dart è¯­æ³•ä¸ JavaScript/TypeScript å¾ˆç›¸ä¼¼ï¼Œå­¦ä¹ æˆæœ¬ä¸é«˜ã€‚

**Q: Flutter å¯ä»¥è°ƒç”¨åŸç”Ÿä»£ç å—ï¼Ÿ**
A: å¯ä»¥ï¼Œé€šè¿‡ Platform Channels æˆ–ä½¿ç”¨ç°æœ‰çš„æ’ä»¶ã€‚

