# 第三方库和包管理

Python 拥有庞大的第三方库生态系统，通过 pip 进行管理。

## pip 包管理器

### 基本命令

```bash
# 安装包
pip install package_name
pip install package_name==1.2.3  # 指定版本
pip install package_name>=1.2.0   # 版本范围

# 卸载包
pip uninstall package_name

# 列出已安装的包
pip list

# 查看包信息
pip show package_name

# 搜索包
pip search package_name

# 升级包
pip install --upgrade package_name

# 升级 pip
pip install --upgrade pip
```

### 依赖管理

```bash
# 生成依赖文件
pip freeze > requirements.txt

# 从依赖文件安装
pip install -r requirements.txt

# requirements.txt 示例
# requests==2.28.0
# numpy>=1.20.0
# pandas~=1.5.0
```

## 虚拟环境

### venv（Python 3.3+）

```bash
# 创建虚拟环境
python3 -m venv venv

# 激活（macOS/Linux）
source venv/bin/activate

# 激活（Windows）
venv\Scripts\activate

# 退出
deactivate
```

### virtualenv

```bash
# 安装
pip install virtualenv

# 创建虚拟环境
virtualenv venv

# 激活
source venv/bin/activate  # macOS/Linux
venv\Scripts\activate      # Windows
```

## 常用第三方库

### requests（HTTP 库）

```python
import requests

# GET 请求
response = requests.get('https://api.github.com')
print(response.status_code)
print(response.json())

# POST 请求
data = {'key': 'value'}
response = requests.post('https://httpbin.org/post', json=data)
```

### numpy（数值计算）

```python
import numpy as np

# 创建数组
arr = np.array([1, 2, 3, 4, 5])
print(arr * 2)  # [2, 4, 6, 8, 10]

# 矩阵运算
matrix = np.array([[1, 2], [3, 4]])
print(matrix @ matrix)  # 矩阵乘法
```

### pandas（数据分析）

```python
import pandas as pd

# 创建 DataFrame
df = pd.DataFrame({
    'name': ['Alice', 'Bob', 'Charlie'],
    'age': [25, 30, 35],
    'score': [95, 88, 92]
})

# 数据操作
print(df.describe())
print(df[df['age'] > 28])
```

## 实际应用场景 Demo

### Demo 1: 使用 requests 获取 API 数据

```python
#!/usr/bin/env python3
# api_client.py - API 客户端示例

import requests
import json

def fetch_user_data(username):
    """获取 GitHub 用户信息"""
    url = f"https://api.github.com/users/{username}"
    response = requests.get(url)
    
    if response.status_code == 200:
        return response.json()
    else:
        return None

def main():
    """主函数"""
    username = input("请输入 GitHub 用户名: ")
    user_data = fetch_user_data(username)
    
    if user_data:
        print(f"\n用户信息:")
        print(f"用户名: {user_data['login']}")
        print(f"姓名: {user_data.get('name', 'N/A')}")
        print(f"关注者: {user_data['followers']}")
        print(f"仓库数: {user_data['public_repos']}")
    else:
        print("用户不存在或请求失败")

if __name__ == "__main__":
    main()
```

## 下一步

完成第三方库学习后，建议学习：
1. [性能优化和调试](./14-性能优化和调试.md) - 性能分析、调试技巧

